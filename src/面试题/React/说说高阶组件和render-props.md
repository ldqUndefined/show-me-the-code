# 说说高阶组件和render props

高阶组件(HOC)和render props都是react中复用组件逻辑的技巧。

HOC是基于React组合的特性和形成的设计模式。

render prop是指一种在React组件之间使用一个值为函数的prop共享代码的简单技术。

## 高阶组件

**高阶组件是参数为组件，返回值为新组件的函数。**

Redux中的`connect`函数是一个返回高阶组件的高阶函数。

HOC不会修改传入的组件。

HOC通过将组件包装在容器组件中来组成新组件。

HOC是纯函数，没有副作用。

被包装组件接收来自容器组件的所有props，被包装组件不需要关注props怎么来的。

HOC在内部封装了可复用的逻辑，包裹其他组件通过传递props的方式实现逻辑复用。

## render props

具有 render prop 的组件接受一个返回 React 元素的函数，并在组件内部通过调用此函数来实现自己的渲染逻辑。

具有render props的组件接收一个返回React元素的函数，并在组件内部通过调用此函数来实现渲染逻辑。

使用render props时的注意事项：

当在render props传递的是一个匿名函数时，当父组件重新渲染时，会导致render props的组件每次都重新渲染，因为匿名函数的引用每次都在变，会失去进行浅比较减少渲染次数的优势，可以将prop定义为一个实例方法，或者将其用记忆函数进行缓存。

