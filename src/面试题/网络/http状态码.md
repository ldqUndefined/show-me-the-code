

# HTTP状态码

HTTP请求行由请求方法、请求URI、HTTP版本组成

HTTP响应行由HTTP版本号、状态码、状态码的描述组成

## 1xx

1xx表示提示信息，表示目前是协议处理的中间状态，还需要后序的操作。

### 100 Contiue

表示目前为止一切正常，客户端应该继续请求。

### 101 Switching Protocol

101表示协议切换，表示服务器回应客户端升级协议的请求(客户端的Upgrade请求头)正在切换协议

服务器会发送一个Upgrade响应头来表明它正在切换的协议。

一般会配合Connection和Upgrade头一起返回。

### 103 Early Hints

信息状态响应码，一般和Link header一起使用，表示允许用户在服务器还在准备相应数据的时候预加载一些资源。`Link:< uri-reference >; param1=value1; param2="value2"`

## 2xx

2xx表示成功，报文已经收到并被正确处理了。

### 200 OK

表明请求已经成功，默认情况下状态码为200的相应可以被缓存。

不同请求方式对于成功的意义也不同：

- GET：已经获取资源，并且资源在相应的消息体中。
- HEAD：响应的消息体为头部信息。
- POST：响应的消息体中包含此次请求的结果。
- TRACE：响应的消息体中包含服务器接收到的请求信息。

PUT和DELETE的请求成功一般不是200而是204 No Content

### 201 Created

表示请求已经被处理，并且创建了新的资源，新的资源在相应返回之前就已经被创建，并且新增的资源在响应消息体中返回。

### 202 Accept

表示已经收到了请求，但是尚未进行处理。对于请求的处理结果是无保证的，因为稍后无法通过HTTP告诉客户端请求的结果。

### 203 Non-Authoritative Information

表示请求已经成功被响应，但是获得的负载与源头服务器的状态码为 200 (OK)的响应相比，经过了拥有转换功能的 proxy （代理服务器）的修改。

### 204 No Content

请求成功了，响应报文不含实体部分。但是客户端不需要离开当前页面，默认204是可缓存的。

### 205 Reset Content

通知客户端重置文档视图，比如清空表单或者刷新用户界面等

### 206 Parial Content

请求成功，并且主体包含所请求的数据区间，该数据区间是在请求的 `Range` 首部指定的。

如果只包含一个数据区间，那么整个响应的 Content-Type 首部的值为所请求的文件的类型，同时包含  `Content-Range` 首部。

如果包含多个数据区间，那么整个响应的  Content-Type  首部的值为 `multipart/byteranges` ，其中一个片段对应一个数据区间，并提供  Content-Range 和 Content-Type  描述信息。(通过在`multipart/byteranges`之后增加一个;boundary=xxx，告诉客户端实体数据如何进行分割)。

## 3xx

3xx表示客户端请求的资源发生的变动，客户端必须用心的URI重新发送请求获取资源，一般用于重定向。

### 301 Move Permanently

301永久重定向说明请求的资源已经被移动到了由`Lcation`头部指定的url上，是固定不会改变的，搜索引擎会根据这个响应进行修正。

### 302 Found

302临时重定向表明请求的资源被暂时的移动到了由`Location` 头部指定的 URL 上。浏览器会重定向到这个URL， 但是搜索引擎不会对该资源的链接进行更新。

即使规范要求浏览器在重定向时保证请求方法和请求主体不变，但并不是所有的用户代理都会遵循这一点。所以推荐在响应GET和HEAD的时候用302，其他时候用307

### 303 See Other

重定向状态码，通常作为PUT或POST操作的返回结果，它表示重定向链接指向的不是新上传的资源，而是另一个页面，如果消息确认页或上传进度页，而请求重定向页面的方法总是要使用GET

### 304 Not Modified

304说明无需再次传输请求的内容，也就是说可以使用缓存内容，可以理解为重定向到浏览器缓存中，一般都是请求头中带有If-None-Match或If-Modified-Since等请求条件时使用。

### 307 Temporary Redirect

临时重定向状态码，表示请求的资源暂时地被移动到了响应的 `Location` 首部所指向的 URL 上。

**状态码 307 与 302 之间的唯一区别在于，当发送重定向请求的时候，307 状态码可以确保请求方法和消息主体不会发生变化。**

### 308 Permanent Redirect

永久重定向说明请求的资源已经被永久的移动到了由 `Location` 首部指定的 URL 上。

**在重定向过程中，请求方法和消息主体不会发生改变，然而在返回 301 状态码的情况下，请求方法有时候会被客户端错误地修改为 GET 方法。**

## 4xx

4xx表示客户发送的请求报文有误，服务器无法处理。

### 400 Bad Request

表示由于语法无效，服务器无法理解该请求，客户端不应该在未修改的情况下重复此请求。它没有表明是数据格式错误还是缺少请求头还是URI超长，只是一个笼统的错误，所以应当避免返回400，而是使用其他更明确含义的状态码。

### 401 Unathorized

表示由于缺乏目标资源要求的身份验证凭证，拒绝了该请求。一般用于身份验证。

### 403 Forbidden

403值得是拒绝了访问，也是和身份认证相关，实际上不是请求出错，而是服务器禁止访问资源，有可能是身份权限不足。

### 404 Not Found

代表资源在服务器上找不到，无法提供给客户端，有可能是客户端请求了不存在的URI。

### 405 Method Not Allowed

表明服务器禁止使用当前HTTP方法的请求，例如不能post只能get。

### 406 Not Acceptable

指代服务器端无法提供与  Accept-Charset 以及 Accept-Language 消息头指定的值相匹配的响应。

### 407 Proxy Authentication Required

表示由于缺乏位于浏览器与可以访问所请求资源的服务器之间的代理服务器（proxy server ）要求的身份验证凭证，发送的请求尚未得到满足。

这个状态码会与 Proxy-Authenticate 首部一起发送，其中包含有如何进行验证的信息。

### 408 Request Timeout

表示服务器想要将没有在使用的连接关闭。一些服务器会在空闲连接上发送此信息，**即便是在客户端没有发送任何请求的情况下**。

服务器应该在此类响应中将 `Connection` 首部的值设置为 "close"，因为  408 意味着服务器已经决定将连接关闭，而不是继续等待。 

###  409 Conflict

表示请求与服务器端目标资源的当前状态相冲突，多个请求发生了冲突，可以理解为多线程并发时的竞态。

### 411 Length Required

表示由于缺少确定的`Content-Length` 首部字段，服务器拒绝客户端的请求。

### 412 Precondition Failed

意味着对于目标资源的访问请求被拒绝。这通常发生于采用除 GET 和 HEAD 之外的方法进行条件请求时，由首部字段 If-Unmodified-Since 或 If-None-Match 规定的先决条件不成立的情况下。这时候，请求的操作——通常是上传或修改文件——无法执行，从而返回该错误状态码。

### 413 Payload Too Large

表示请求主体的大小超过了服务器愿意或有能力处理的限度，服务器可能会关闭连接以防止客户端继续发送该请求。请求body太大。

### 414 URI Too Long

表示客户端所请求的 URI 超过了服务器允许的范围

### 416 Range Not Satisfiable

表示服务器无法处理所请求的数据区间。最常见的情况是所请求的数据区间不在文件范围之内，也就是说，Range 首部的值，虽然从语法上来说是没问题的，但是从语义上来说却没有意义。

### 425 Too Early

代表服务器不愿意冒风险来处理该请求，原因是处理该请求可能会被“重放”，从而造成潜在的重放攻击。

### 426 Upgrade Required 

是一种HTTP协议的错误状态代码，表示服务器拒绝处理客户端使用当前协议发送的请求，但是可以接受其使用升级后的协议发送的请求。

服务器会在响应中使用 `Upgrade` 首部来指定要求的协议

### 429 Too Many Requests

表示在一定的时间内用户发送了太多的请求，即超出了“频次限制”。在响应中，可以提供一个  `Retry-After` 首部来提示用户需要等待多长时间之后再发送新的请求。

### 431 Request Header Fields Too Large

表示由于请求中的首部字段的值过大，服务器拒绝接受客户端的请求。客户端可以在缩减首部字段的体积后再次发送请求。

**该响应码可以用于首部总体体积过大的情况，也可以用于单个首部体积过大的情况。**

## 5xx

5××类状态码表示客户端请求报文正确，但服务器在处理时内部发生了错误，无法返回应有的响应数据，是服务器端的“错误码”

### 500 Internal Server Error 

意味着所请求的服务器遇到意外的情况并阻止其执行请求。

### 501 Not Implemented

表示请求的方法不被服务器支持，因此无法被处理。服务器必须支持的方法（即不会返回这个状态码的方法）只有 GET 和 HEAD。

### 502 Bad Gateway

HTTP协议的服务器端错误状态代码，它表示作为网关或代理角色的服务器，从上游服务器（如tomcat、php-fpm）中接收到的响应是无效的。

### 503 Service Unavailable

表示服务器尚未处于可以接受请求的状态。通常造成这种情况的原因是由于服务器停机维护或者已超载。注意在发送该响应的时候，应该同时发送一个对用户友好的页面来解释问题发生的原因。该种响应应该用于临时状况下，与之同时，在可行的情况下，应该在 Retry-After 首部字段中包含服务恢复的预期时间。

### 504 Gateway Timeout

表示扮演网关或者代理的服务器无法在规定的时间内获得想要的响应。

### 505 HTTP Version Not Supported

表示服务器不支持请求所使用的 HTTP 版本





