# http简单概览

## 一、报文组成概览

1. 请求报文由请求方法(method)、请求URI(request-URI)、协议版本(version)、可选的请求首部字段(header field)和内容实体构成

2. 相应报文由协议版本(version)、状态码(status code)、用以解释状态码的原因短语(response-phrase)、可选的首部字段(header field)和实体主体(entity body)构成。**首部字段和主体之间有一空行分隔**

## 二、简单方法概览

1. HTTP是不保存状态的协议，对发送过的请求或相应都不做持久化处理。这是为了更快地处理大量事务，确保协议的可伸缩性，所以特意把HTTP协议涉及成如此简单的。

2. 用POST方法来传输实体的主体。**虽然用GET方法也可以传输实体的主体，但一般不用GET方法进行传输**

3. HEAD方法和GET方法一样，只是不返回报文主体部分。用于确认URI的有效性和资源更新的日期等。

4. OPTIONS：**询问支持的方法**。用来查询针对请求URI指定的资源支持的方法。

5. TRACE：让Web服务器将之前的请求通信环回给客户端。发送请求时，在Max-Forwards首部字段中填入数值，每经过一个服务器就将该数字减1，当数值刚好减到0时，就停止继续传输，最后接收到请求的服务器则返回状态码200 OK的相应。可以通过TRACE方法查询发出去的请求时怎样被加工修改/篡改的。但是TRACE本来就不常用，再加上容易引发XST（Cross-Site Tracing，跨站追踪）攻击，通常就更不会用到了。

6. CONNECT：要求用隧道协议连接代理。CONNECT要求在与代理服务器通信时建立隧道，实现用隧道协议进行TCP通信。主要使用主要使用 SSL（Secure Sockets Layer，安全套接层）和 TLS（Transport Layer Security，传输层安全）协议把通信内容加密后经网络隧道传输。 

   CONNECT方法格式：CONNECT 代理服务器名:端口号 HTTP版本

7. LINK和UNLINK被HTTP/1.1废弃，不再支持。

### 三、简单特性概览

1. 持久连接节省通信量。HTTP协议的初始版本中，每进行一次HTTP通信就要断开一次TCP连接，通信量的开销很大。持久连接(HTTP keep-alive 或 HTTP connection reuse)：只要任意一端没有明确提出断开连接，则保持TCP连接状态。持久连接旨在建立1次TCP连接后进行多次请求和响应的交互。HTTP/1.1中，所有的连接默认都是持久连接，持久连接需要客户端和服务端同时支持。
2. 管线化(pipelining)。从前发送请求后需等待并收到响应，才能发送下一个请求。管线化技术出现后，不用等待响应亦可直接发送下一个请求。这样就能够做到同时并行发送多个请求，而不需要一个接一个地等待响应了。
3. Cookie。HTTP是无状态的协议，所以引入Cookie通过在请求和响应报文中写入Cookie信息来控制客户端的状态。Cookie 会根据从服务器端发送的响应报文内的一个叫做 Set-Cookie 的首部字段信息，通知客户端保存 Cookie。当下次客户端再往该服务器发送请求时，客户端会自动在请求报文中加入 Cookie 值后发送出去。